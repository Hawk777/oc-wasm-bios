"Lint":
  stage: test
  needs: []
  image:
    name: "rust"
  script:
    - rustup target add wasm32-unknown-unknown
    - rustup component add clippy rustfmt
    - cargo version
    - cargo clippy
    - cargo doc
    - cargo fmt -- --check

"Compile":
  stage: build
  needs: []
  image:
    name: "rust"
  script:
    - apt-get update
    - apt-get install lz4 wabt
    - rustup target add wasm32-unknown-unknown
    - cargo version
    - make
  artifacts:
    paths:
      - packed.wasm
